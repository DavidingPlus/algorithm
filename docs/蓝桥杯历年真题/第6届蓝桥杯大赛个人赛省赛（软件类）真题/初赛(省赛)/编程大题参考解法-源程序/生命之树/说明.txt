
「算法描述」
首先我们可以枚举每个点是否在 S 中，只需要判断 S 是否是一个连通块就可以了。时间复杂度 O(n 2^n) 期望得分 30 分。
我们把这棵无根树定一个根，将其转为有根树。这样每个点就有了深度。
令 f_v 表示如果 v 一定在点集 S 中，且 S 中的所有点均在 v 这棵子树中时，S 的权值和的最大值。
考虑 v 的各个孩子所代表的子树。令 u 为 v 的一个孩子。
1. 若 S 中含有子树 u 内的点，则 u 一定也在 S 中，此时 S 中所有在 u 这棵子树内的权值和的最大值为 f_u ，即 u 这棵子树给 v 贡献的值为 f_u；
2. 若 S 中不含有子树 u 内的点，则 u 这棵子树给 v 贡献的权值为 0 。
所以我们可以推出 f_v 的表达式： f_v = w_v + sum_{u 是 v 的孩子} max(f_u, 0) 其中 w_v 表示 v 的权值。
利用这个表达式，我们可以求出所有的 f ，在其中选一个最大值就是最优解。
